{"ast":null,"code":"import _asyncToGenerator from \"/home/yusa/assignment2_AB1FA8/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Pet } from '../pet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../pet.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction PetEditComponent_h1_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"Edit pet\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PetEditComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"New pet\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class PetEditComponent {\n  constructor(route, petService, location, router) {\n    this.route = route;\n    this.petService = petService;\n    this.location = location;\n    this.router = router;\n    this.pet = new Pet();\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const urlId = _this.route.snapshot.paramMap.get('id');\n\n      if (urlId) {\n        const id = parseInt(urlId);\n        const pet = yield _this.petService.getPet(id);\n\n        if (pet) {\n          _this.pet = pet;\n        }\n      }\n    })();\n  }\n\n  handleSave(pet) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.pet.id) {\n        yield _this2.petService.updatePet(_this2.pet.id, pet);\n\n        _this2.location.back();\n      } else {\n        const newPet = yield _this2.petService.addPet(pet);\n\n        _this2.router.navigate(['/pets']);\n      }\n    })();\n  }\n\n}\n\nPetEditComponent.ɵfac = function PetEditComponent_Factory(t) {\n  return new (t || PetEditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PetService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nPetEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PetEditComponent,\n  selectors: [[\"app-pet-edit\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"pet\", \"onSave\"]],\n  template: function PetEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PetEditComponent_h1_0_Template, 2, 0, \"h1\", 0);\n      i0.ɵɵtemplate(1, PetEditComponent_h1_1_Template, 2, 0, \"h1\", 0);\n      i0.ɵɵelementStart(2, \"app-pet-form\", 1);\n      i0.ɵɵlistener(\"onSave\", function PetEditComponent_Template_app_pet_form_onSave_2_listener($event) {\n        return ctx.handleSave($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.pet.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.pet.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pet\", ctx.pet);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwZXQtZWRpdC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/home/yusa/assignment2_AB1FA8/client/src/app/pet-edit/pet-edit.component.ts"],"names":["Pet","i0","i1","i2","i3","PetEditComponent_h1_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","PetEditComponent_h1_1_Template","PetEditComponent","constructor","route","petService","location","router","pet","ngOnInit","urlId","snapshot","paramMap","get","id","parseInt","getPet","handleSave","updatePet","back","newPet","addPet","navigate","ɵfac","PetEditComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","PetService","Location","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PetEditComponent_Template","ɵɵtemplate","ɵɵlistener","PetEditComponent_Template_app_pet_form_onSave_2_listener","$event","ɵɵproperty","ɵɵadvance","styles"],"mappings":"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","sourcesContent":["import { Pet } from '../pet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../pet.service\";\nimport * as i3 from \"@angular/common\";\nfunction PetEditComponent_h1_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"Edit pet\");\n    i0.ɵɵelementEnd();\n} }\nfunction PetEditComponent_h1_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"New pet\");\n    i0.ɵɵelementEnd();\n} }\nexport class PetEditComponent {\n    constructor(route, petService, location, router) {\n        this.route = route;\n        this.petService = petService;\n        this.location = location;\n        this.router = router;\n        this.pet = new Pet();\n    }\n    async ngOnInit() {\n        const urlId = this.route.snapshot.paramMap.get('id');\n        if (urlId) {\n            const id = parseInt(urlId);\n            const pet = await this.petService.getPet(id);\n            if (pet) {\n                this.pet = pet;\n            }\n        }\n    }\n    async handleSave(pet) {\n        if (this.pet.id) {\n            await this.petService.updatePet(this.pet.id, pet);\n            this.location.back();\n        }\n        else {\n            const newPet = await this.petService.addPet(pet);\n            this.router.navigate(['/pets']);\n        }\n    }\n}\nPetEditComponent.ɵfac = function PetEditComponent_Factory(t) { return new (t || PetEditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PetService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i1.Router)); };\nPetEditComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PetEditComponent, selectors: [[\"app-pet-edit\"]], decls: 3, vars: 3, consts: [[4, \"ngIf\"], [3, \"pet\", \"onSave\"]], template: function PetEditComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, PetEditComponent_h1_0_Template, 2, 0, \"h1\", 0);\n        i0.ɵɵtemplate(1, PetEditComponent_h1_1_Template, 2, 0, \"h1\", 0);\n        i0.ɵɵelementStart(2, \"app-pet-form\", 1);\n        i0.ɵɵlistener(\"onSave\", function PetEditComponent_Template_app_pet_form_onSave_2_listener($event) { return ctx.handleSave($event); });\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.pet.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.pet.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pet\", ctx.pet);\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwZXQtZWRpdC5jb21wb25lbnQuY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}